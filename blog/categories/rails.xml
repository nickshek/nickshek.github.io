<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <title><![CDATA[Nick Shek&#039;s Blog]]></title>
    <link href="/blog/categories/rails.xml" rel="self"/>
    <link href="/"/>
    <updated>2016-03-31T01:57:57+08:00</updated>
    <id>/</id>
        <generator uri="http://sculpin.io/">Sculpin</generator>
            <entry>
            <title type="html"><![CDATA[在rails migration改變column type]]></title>
            <link href="/b/在rails migration改變column type"/>
            <updated>2014-11-26T00:00:00+08:00</updated>
            <id>/b/在rails migration改變column type</id>
            <content type="html"><![CDATA[<p>假設我們要改變sub_anonrums table的title,將其欄位種類由:text改為:string方法如下:</p>

<p>1.在project下新增一個migration file</p>

<pre><code class="bash">rails g migration change_sub_anonrums_title_format
</code></pre>

<p>2.移除migration 下的change 方法,改為使用up 和down方法,migration file 的source code 如下所示: \</p>

<pre><code class="ruby">class ChangeSubAnonrumsTitleFormat &lt; ActiveRecord::Migration
  def up
    change_column :sub_anonrums, :title, :string
  end

  def down
    change_column :sub_anonrums, :title, :text
  end
end
</code></pre>

<p>3.執行 rake db:migrate</p>
]]></content>
        </entry>
    </feed>